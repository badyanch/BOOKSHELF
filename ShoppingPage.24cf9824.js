var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},s={},n=t.parcelRequired7c6;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in s){var n=s[t];delete s[t];var o={id:t,exports:{}};return e[t]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){s[t]=e},t.parcelRequired7c6=n),n.register("9Jurp",(function(t,e){var s,o,i,r;s=t.exports,o="getBooksData",i=function(){return c},Object.defineProperty(s,o,{get:i,set:r,enumerable:!0,configurable:!0});var l=n("cTOKP");const a=localStorage.getItem("currentUser");if(a){const t=JSON.parse(a);if(t.hasOwnProperty("wishList")){return t.wishList}}async function c(t){const e=[];for(const s of t){const t=await(0,l.fetchBooksForID)(s);e.push(t.data)}return e}})),n("cTOKP"),n("fUP9p");var o=n("9Jurp"),i=n("dQL0x"),r=n("kAe2l");const l=document.querySelector(".shopping-list__container"),a=document.querySelector(".shopping-list__empty-page");if(localStorage.getItem("currentUser")){let t=JSON.parse(localStorage.getItem("currentUser"));if(t.hasOwnProperty("wishList")){let e=t.wishList,s=[];(0,o.getBooksData)(e).then((t=>{s=t;const n=s.map((function({book_image:t,author:e,list_name:s,description:n,title:o,buy_links:i,_id:r}){const l=document.createElement("div");l.classList.add("shoplist-book-container"),l.dataset.id=r;const a=`\n            <img src="${t}" class="shoplist-book-img" alt="${o}">\n            <div class="shoplist-desc-container">\n              <h4 class="shoplist-book-title">${o}</h4>\n              <p class="shoplist-book-genre">${s}</p>\n              <p class="shoplist-book-description">${n||"Sorry, book's description not found"}</p>\n              <p class="shoplist-book-author">${e}</p>\n            </div>\n            <div class="shoplist-icons">\n              <ul class="shoplist-icons-list">\n                <li class="shoplist-icons-li">\n                  <a href="${i[0].url}" target="_blank">\n                    <div class="shoplist-icon-amazon"></div>\n                  </a>\n                </li>\n                <li class="shoplist-icons-li">\n                  <a href="${i[1].url}" target="_blank">\n                    <div class="shoplist-icon-ibook"></div>\n                  </a>\n                </li>\n                <li class="shoplist-icons-li">\n                  <a href="${i[4].url}" target="_blank">\n                    <div class="shoplist-icon-bookshop"></div>\n                  </a>\n                </li>\n              </ul>\n            </div>\n            <div class="shoplist-trash"></div>\n          `;return l.innerHTML=a,l}));const o=document.createElement("div");function c(){o.innerHTML="",0===e.length?o.appendChild(a):n.forEach((t=>{o.appendChild(t)}))}o.classList.add("shopping-list__container"),c(),l.replaceWith(o),o.addEventListener("click",(function(t){if(t.target.classList.contains("shoplist-trash")){!function(t){const s=new(0,i.User);if(e=e.filter((e=>e._id!==t)),s.removeFromWishlist(t,r.auth.currentUser.email),0===e.length)c();else{o.querySelector(`[data-id="${t}"]`).remove()}}(t.target.closest(".shoplist-book-container").dataset.id)}}))})).catch((t=>{console.error("Error retrieving books data:",t)}))}else l.appendChild(a)}n("fI3YV"),n("fuWhn"),n("gGJi9"),n("2uRvp");
//# sourceMappingURL=ShoppingPage.24cf9824.js.map
