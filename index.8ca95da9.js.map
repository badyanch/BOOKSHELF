{"mappings":"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","sources":["src/js/test/shoppingListCounter.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-1a70fc5d5cfb1ce4.js","src/index.js","src/js/test/fetch-category.js","src/js/test/fetch-search-result.js","src/js/test/markup-top-books.js","src/js/test/change-current-category.js","src/js/test/book-category.js","src/js/test/markup-category-list.js","src/js/test/pop-up.js","node_modules/@parcel/runtime-js/lib/runtime-880edfb0ce25f9ba.js","node_modules/@parcel/runtime-js/lib/runtime-51cf0e16055f0beb.js","node_modules/@parcel/runtime-js/lib/runtime-05773a08651ab079.js","src/js/scroll.js"],"sourcesContent":["\r\n\r\n\r\n\r\n export function getNumberFromStorage() {\r\n    const savedBook = localStorage.getItem('currentUser');\r\n    if (!savedBook) {\r\n        return console.log('Pease login first');\r\n    }\r\n    const parsedBooks = JSON.parse(savedBook);\r\n    console.log(parsedBooks);\r\n\r\n    const bookArray = parsedBooks.wishList;\r\n    if (!bookArray) {\r\n        return console.log('There is no books in wish-list');\r\n    }\r\n    const bookArrLength = bookArray.length\r\n    console.log(bookArrLength);\r\n\r\n     drawBasket(bookArrLength);\r\n\r\n    \r\n}\r\n    \r\nfunction drawBasket(booksLength) {\r\n    const basketCounterThumb = document.querySelector('.page-nav__cart-number');\r\n    // console.log(basketCounterThumb);\r\n    basketCounterThumb.classList.remove('visually-hidden');\r\n    basketCounterThumb.textContent = booksLength;\r\n    // const listLength = parsedBooks.length;\r\n}\r\n\r\ngetNumberFromStorage();","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.8ca95da9.js\\\",\\\"hCiMs\\\":\\\"amazon.a26c5207.png\\\",\\\"1uoOU\\\":\\\"ibook.dbc85e35.png\\\",\\\"b8uvO\\\":\\\"bookshop.27255142.png\\\",\\\"lhAK3\\\":\\\"ShoppingPage.9800223e.js\\\"}\"));","import './js/API';\nimport './js/authentication/form';\n\n// import './js/handlers/bookCategory';\n// import './js/handlers/markup-category-list';\nimport './js/test/swiper-supportUkraine';\nimport './js/switcher-theme-fn';\nimport './js/test/shoppingListCounter'\n\nimport './js/test/book-category';\nimport './js/test/fetch-category';\nimport './js/test/fetch-search-result';\nimport './js/test/markup-category-list';\nimport './js/test/markup-top-books';\n\nimport './js/test/pop-up';\n\n\n\nimport './js/test/mobileMenu';\n\nimport './js/scroll';\n\nimport './js/header/index';\n\nimport './js/test/change-current-category';","const BASE_URl = 'https://books-backend.p.goit.global/books/category?category=';\n\nconst booksCardsList = document.querySelector('.books-cards__list');\n\n\n\nexport async function fetchCategoryList(requestTheme) {\n\tbooksCardsList.insertAdjacentHTML('afterbegin', '<div class=\"bookshelf_wrapper\"><ul class=\"books_list\"><li class=\"book_item first\"></li><li class=\"book_item second\"></li><li class=\"book_item third\"></li><li class=\"book_item fourth\"></li><li class=\"book_item fifth\"></li><li class=\"book_item sixth\"></li></ul><div class=\"shelf\"></div></div>');\n\t\n\tconst response = await fetch(`${BASE_URl}${requestTheme}`);\n\tif (!response.ok) {\n\t\tthrow new Error(response.status);\n\t}\n\tconst category = await response.json();\n\treturn category;\n}\n","const BASE_URl = 'https://books-backend.p.goit.global/books/';\n\nconst booksCardsList = document.querySelector('.books-cards__list');\n\nexport async function fetchSearchResult(requestTheme) {\n  booksCardsList.insertAdjacentHTML('afterbegin', '<div class=\"bookshelf_wrapper\"><ul class=\"books_list\"><li class=\"book_item first\"></li><li class=\"book_item second\"></li><li class=\"book_item third\"></li><li class=\"book_item fourth\"></li><li class=\"book_item fifth\"></li><li class=\"book_item sixth\"></li></ul><div class=\"shelf\"></div></div>');\n  const response = await fetch(`${BASE_URl}${requestTheme}`);\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const arrayElements = await response.json();\n\n  return arrayElements;\n}\n","import { fetchSearchResult } from './fetch-search-result';\nimport { fetchCategoryList } from './fetch-category';\nimport { createMarkupBooks } from './book-category';\nimport { addHeading } from './book-category';\nimport { changeCurrentCategory } from './change-current-category';\nconst refs = {\n\tbooksCardsList: document.querySelector('.books-cards__list'),\n\tbooksCardsTitle: null,\n\ttopBooksCategories: null,\n\tbooksCardsButton: null,\n};\n\nrefs.booksCardsList.addEventListener('click', onClickSeeMore);\n\nallCategoryMarkup();\n\nexport function allCategoryMarkup() {\n\tfetchSearchResult('top-books')\n\t\t.then(categoriesTopBooks => {\n\t\t\t//   console.log(refs.booksCardsList);\n\n\t\t\trefs.booksCardsList.classList.remove('category-books-list');\n\t\t\trefs.booksCardsList.classList.add('top-books-list');\n\n\t\t\trefs.booksCardsList.innerHTML = '';\n\t\t\taddHeading('Best Sellers Books');\n\n\t\t\tcreateCategoriesTopBooksMarkup(categoriesTopBooks);\n\n\t\t\trefs.topBooksCategories = document.querySelectorAll(\n\t\t\t\t'.top-books-categories__list'\n\t\t\t);\n\t\t\trefs.booksCardsButton = document.querySelector('.top-books__button');\n\n\t\t\tcreateTopBooksMarkup(categoriesTopBooks);\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('Проблема з запитом!');\n\t\t});\n}\n\nfunction createTopBooksMarkup(categoriesTopBooks) {\n\tlet numberCategories = 0;\n\n\t//   console.log(categoriesTopBooks[numberCategories].books);\n\n\trefs.topBooksCategories.forEach(element => {\n\t\tconst markup = categoriesTopBooks[numberCategories].books\n\t\t\t.map(({ _id, book_image, title, author }) => {\n\t\t\t\treturn `\n          <li data-id=\"${_id}\" class=\"category-books__item is-hidden-books\">\n          <a href=\"\" class=\"category-books__link\">\n          <div class=\"category-books__img-thumb\">\n          <img src=\"${book_image}\" alt=\"${title}\" class=\"category-books__img\">\n          <p class=\"card-overlay\">Quick view</p>\n          </div>\n          <h2 class=\"category-books__title\">${title}</h2>\n          <p class=\"category-books__author\">${author}</p>\n          </a>\n          </li>`;\n\t\t\t})\n\t\t\t.join('');\n\t\telement.insertAdjacentHTML('beforeend', markup);\n\t\tnumberCategories++;\n\t});\n}\n\nfunction createCategoriesTopBooksMarkup(categories) {\n\tconst markup = categories\n\t\t.map(\n\t\t\t({ list_name }) => `\n    <li class=\"top-books__item\">\n    <h2 class=\"top-books-title\">${list_name}</h2>\n    <ul class=\"top-books-categories__list\">\n                \n    </ul>\n    <div class=\"top-books__button-box\">\n    <button class=\"top-books__button\" data-list_name=\"${list_name}\">See More</button>\n    </div>\n    </li>\n    `\n\t\t)\n\t\t.join('');\n\n\trefs.booksCardsList.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function onClickSeeMore(evt) {\n\tevt.preventDefault();\n\tif (!evt.target.classList.contains('top-books__button')) {\n\t\t// console.log('Ти натиснув не на кнопку.');\n\t\treturn;\n\t}\n\tconsole.log('Ти натиснув на кнопку.');\n\trefs.booksCardsList.classList.remove('top-books-list');\n\trefs.booksCardsList.classList.add('category-books-list');\n\tconst category = evt.target.dataset.list_name;\n\t//   console.log(category);\n\trefs.booksCardsTitle = document.querySelector('.books-cards__title');\n\trefs.booksCardsTitle.remove();\n\tchangeCurrentCategory(category);\n\taddHeading(category);\n\trefs.booksCardsList.innerHTML = '';\n\tconst categoryItem = await fetchCategoryList(category); // category fetch querry\n\tcreateMarkupBooks(categoryItem);\n}\n","export function changeCurrentCategory(list_name) {\n    const categoryArray = document.querySelectorAll('.js-cat-link');\n    [...categoryArray].forEach(category => {\n      if (category.textContent === list_name) {\n        category.classList.add('current-category');\n      } else {\n        if (category.classList.contains('current-category')) {\n          category.classList.remove('current-category');\n        }\n      }\n    });\n  }","import { fetchCategoryList } from './fetch-category';\nimport { allCategoryMarkup } from './markup-top-books';\n\nconst listCategory = document.querySelector('.list-categories');\nconst bookSection = document.querySelector('.books-cards__list');\n\nlistCategory.addEventListener('click', onClickCategory);\n\nasync function onClickCategory(evt) {\n  bookSection.classList.remove('top-books-list');\n  bookSection.classList.add('category-books-list');\n  evt.preventDefault();\n  if (evt.target.classList.contains('category__link-all')) {\n    removeMarkup();\n    evt.target.classList.add('current-category');\n    allCategoryMarkup();\n  }\n  if (evt.target.classList.contains('category__link')) {\n    removeMarkup();\n    const category = evt.target.textContent;\n    evt.target.classList.add('current-category');\n    addHeading(category);\n    const categoryItem = await fetchCategoryList(category);\n    createMarkupBooks(categoryItem);\n  }\n}\n\nfunction removeMarkup() {\n  const sectionTitle = document.querySelector('.books-cards__title');\n  if (sectionTitle) {\n    sectionTitle.remove();\n  }\n  removeCurrentClass();\n  bookSection.innerHTML = '';\n}\n\nfunction addHeading(string) {\n  const sectionTitle = document.querySelector('.books-cards__title');\n  if (!sectionTitle) {\n    const arr = string.split(' ');\n    const lastElement = arr.pop(arr[arr.length - 1]);\n    const markup = `<h1 class=\"books-cards__title\">${arr.join(' ')}\n\t        <span class=\"books-cards__title-accent\"> ${lastElement}</span></h1>`;\n    bookSection.insertAdjacentHTML('beforebegin', markup);\n  }\n}\n\nfunction removeCurrentClass() {\n  const allCategory = document.querySelectorAll('.category__link');\n  allCategory.forEach(category => {\n    category.classList.remove('current-category');\n  });\n  const categoryLinkAll = document.querySelector('.category__link-all');\n  if (categoryLinkAll.classList.contains('current-category')) {\n    categoryLinkAll.classList.remove('current-category');\n  }\n}\n\n\n\nfunction createMarkupBooks(category) {\n  bookSection.innerHTML = ''; // del\n  \n  const markup = category\n    .map(item => {\n      const { _id, book_image, title, author } = item;\n      return `\n    <li data-id=\"${_id}\" class=\"category-books__item\">\n    <a href=\"\" class=\"category-books__link\">\n    <div class=\"category-books__img-thumb\">\n    <img src=\"${book_image}\" alt=\"${title}\" class=\"category-books__img\">\n    <p class=\"card-overlay\">Quick view</p>\n    </div>\n    <h2 class=\"category-books__title\">${title}</h2>\n    <p class=\"category-books__author\">${author}</p>\n    </a>\n    </li>`;\n    })\n    .join('');\n\n  bookSection.insertAdjacentHTML('beforeend', markup);\n}\n\nexport { createMarkupBooks };\nexport { addHeading };\n","import { fetchSearchResult } from './fetch-search-result';\n\nconst listCategory = document.querySelector('.list-categories');\n\nfunction getMarkupAllCategory() {\n\tconst markup =\n\t\t'<li><a href=\"./index.html\" class=\"js-cat-link category__link-all current-category\">All category</a></li>';\n\tlistCategory.insertAdjacentHTML('afterbegin', markup);\n}\n\ngetMarkupAllCategory();\n\nasync function getMarkupCategoryList() {\n\n\t\n\tconst categoryList = await fetchSearchResult('category-list');\n\tconst categoryArr = [];\n\tfor (const { list_name } of categoryList) {\n\t\tcategoryArr.push(list_name);\n\t}\n\tconst markup = categoryArr\n\t\t.sort((a, b) => a.localeCompare(b))\n\t\t.map(\n\t\t\titem =>\n\t\t\t\t`<li class=\"category__item\"><a href=\"\" class=\"js-cat-link category__link\">${item}</a></li>`\n\t\t)\n\t\t.join('');\n\tlistCategory.insertAdjacentHTML('beforeend', markup);\n}\n\ngetMarkupCategoryList();\n// export { getMarkupCategoryList };\n","import { Notify } from 'notiflix';\nimport { fetchBooksForID } from '../API';\nimport { User } from '../authentication/authorization';\nimport { IS_USER_LOG, openForm } from '../authentication/form';\nimport { auth } from '../authentication/firebase';\nimport { getNumberFromStorage } from './shoppingListCounter';\n\n\nconst linkAmazonImg = new URL(\n\t'../../images/shoppinglist/amazon.png',\n\timport.meta.url\n);\nconst linkAppleImg = new URL(\n\t'../../images/shoppinglist/ibook.png',\n\timport.meta.url\n);\nconst linkBookShopImg = new URL(\n\t'../../images/shoppinglist/bookshop.png',\n\timport.meta.url\n);\n\nfunction createMarkupBooks(category) {\n\tconst { _id, list_name, book_image, title, author, buy_links, description } =\n\t\tcategory;\n\n\tconst markup = `<div class=\"data-book\">\n<div class=\"data-book__info\">\n<img src=\"${book_image}\" alt=\"${list_name}\" class=\"data-book__img\">\n<div class=\"data-book__thumb\"><h2 class=\"data-book__title\">${title}</h2>\n<h3 class=\"data-book__subtitle\">${author}</h3>\n<p class=\"data-book__description\">${description || 'Sorry, book`s description not found'\n\t\t}\n</p></div>\n</div>\n<button type=\"button\" class=\"button-js-storage data-book__shop\" data-favoriteid='${_id}'>Add to shopping list</button>\n<p class=\"data-book__success\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>\n`;\n\tmodalWindow.insertAdjacentHTML('beforeend', markup);\n\n\tconst socialLinks = document.querySelector('.data-book__thumb');\n\n\tconst socialThumb = document.createElement('div');\n\tsocialThumb.classList.add('social-shop-thumb');\n\tsocialLinks.append(socialThumb);\n\n\tsocialThumb.insertAdjacentHTML('beforeend', testFunc(buy_links));\n}\n\nfunction testFunc(array) {\n\tlet markup = '';\n\tconst linkArr = [linkAmazonImg, linkAppleImg, linkBookShopImg];\n\tfor (let index = 0; index < 3; index++) {\n\t\tmarkup += `<a target=\"_blank\" href=\"${array[index].url}\"><img class=\"social-img\" src='${linkArr[index]}' alt='${array[index].name}'/>\n\t\t`;\n\t}\n\n\treturn markup;\n}\n\n\nconst ul = document.querySelector('.books-cards__list');\n\nul.addEventListener('click', onClickBookCard);\n\nconst modalWindow = document.querySelector('.book-info');\n\nasync function onClickBookCard(event) {\n\tmodalWindow.innerHTML = '';\n\tconst li = event.target.closest('.category-books__item');\n\tif (!li) {\n\t\treturn;\n\t}\n\tconst favoritBookId = li.dataset.id;\n\n\ttry {\n\t\tconst fetchAPI = await fetchBooksForID(favoritBookId);\n\t\tmodalOpenMenu();\n\n\t\tcreateMarkupBooks(fetchAPI.data);\n\t\tconst discriptionText = document.querySelector('.data-book__success');\n\n\t\tconst saveBookInStorageButton = document.querySelector('.button-js-storage');\n\t\tif (IS_USER_LOG) {\n\t\t\tconst user = new User();\n\t\t\tconst wishList = await user.getWishList(auth.currentUser.email);\n\n\t\t\tif (wishList.includes(saveBookInStorageButton.dataset.favoriteid)) {\n\t\t\t\tsaveBookInStorageButton.textContent = 'remove from the shopping list';\n\t\t\t\tdiscriptionText.style.display = 'block';\n\t\t\t}\n\n\t\t\tsaveBookInStorageButton.addEventListener('click', async () => {\n\t\t\t\tconst checkStorage = await user.getWishList(auth.currentUser.email);\n\n\t\t\t\tif (saveBookInStorageButton.textContent === 'Add to shopping list') {\n\t\t\t\t\tif (checkStorage.includes(saveBookInStorageButton.dataset.favoriteid)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tawait user.addToWishList(saveBookInStorageButton.dataset.favoriteid, auth.currentUser.email);\n\t\t\t\t\tgetNumberFromStorage();\n\t\t\t\t\tsaveBookInStorageButton.textContent = 'remove from the shopping list';\n\t\t\t\t\tdiscriptionText.style.display = 'block';\n\n\t\t\t\t} else if (saveBookInStorageButton.textContent === 'remove from the shopping list') {\n\t\t\t\t\tif (!checkStorage.includes(saveBookInStorageButton.dataset.favoriteid)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tawait user.removeFromWishlist(saveBookInStorageButton.dataset.favoriteid, auth.currentUser.email);\n\t\t\t\t\tgetNumberFromStorage();\n\t\t\t\t\tsaveBookInStorageButton.textContent = 'Add to shopping list';\n\t\t\t\t\tdiscriptionText.style.display = 'none';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsaveBookInStorageButton.textContent = 'To but this book you must Sign In';\n\t\t\tsaveBookInStorageButton.addEventListener('click', openForm)\n\t\t}\n\t} catch (error) {\n\t\tNotify.failure(error.message);\n\t}\n}\n\n\nconst modalOpen = document.querySelector('[data-book-modal-open]');\nconst modalForBook = document.querySelector('.book-modal');\nconst modalBtnClose = document.querySelector('.modal-close-book-btn');\n\nmodalBtnClose.addEventListener('click', onClickBtnModalClose);\n\nfunction modalOpenMenu() {\n\tmodalOpen.classList.toggle('is-hidden-book-backdrop');\n}\nmodalOpen.addEventListener('click', event => {\n\tif (!event.target.closest('.book-modal')) {\n\t\tmodalOpen.classList.add('is-hidden-book-backdrop');\n\t}\n});\n\nfunction onClickBtnModalClose() {\n\tmodalOpen.classList.add('is-hidden-book-backdrop');\n}\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hCiMs\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1uoOU\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"b8uvO\")).toString();","const button = document.querySelector('.scrollBtn');\n     \nwindow.addEventListener('scroll', function () {\n  \n  if (window.pageYOffset > 0) {\n    button.classList.add(\"visible\");\n    } else {\n    button.classList.remove(\"visible\");\n  }\n});\n\nbutton.addEventListener('click', function () {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n\n"],"names":["$9a911e6af7e0ce42$export$c7257a4f78b8a5d3","savedBook","localStorage","getItem","console","log","parsedBooks","JSON","parse","bookArray","wishList","bookArrLength","length","booksLength","basketCounterThumb","document","querySelector","classList","remove","textContent","$9a911e6af7e0ce42$var$drawBasket","$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","id","resolved","Error","parcelRequire","register","$2b9983ec5e91801a$var$BASE_URl","$2b9983ec5e91801a$var$booksCardsList","async","$2b9983ec5e91801a$export$733bdd6f03c986d2","requestTheme","insertAdjacentHTML","response","fetch","ok","status","json","$2f2b7d819a1959a2$var$BASE_URl","$2f2b7d819a1959a2$var$booksCardsList","$2f2b7d819a1959a2$export$8c2dda8bf3bd2faf","$185769ac0aba19e4$var$refs","booksCardsList","booksCardsTitle","topBooksCategories","booksCardsButton","$185769ac0aba19e4$export$2cce87bcf2cc71f0","then","categoriesTopBooks","add","innerHTML","$292268145cca3645$export$12cc79af70720d3c","categories","markup","map","list_name","join","$185769ac0aba19e4$var$createCategoriesTopBooksMarkup","querySelectorAll","numberCategories","forEach","element","books","_id","book_image","title","author","$185769ac0aba19e4$var$createTopBooksMarkup","catch","addEventListener","evt","preventDefault","target","contains","category","dataset","$292268145cca3645$export$2e6862ff7870b9bb","$292268145cca3645$var$listCategory","$292268145cca3645$var$bookSection","$292268145cca3645$var$removeMarkup","sectionTitle","categoryLinkAll","$292268145cca3645$var$removeCurrentClass","string","arr","split","lastElement","pop","item","$be4f8a8595511292$var$listCategory","categoryList","categoryArr","push","sort","a","b","localeCompare","$be4f8a8595511292$var$getMarkupCategoryList","$7Y9D8","$3075e8d6d2d88b42$exports","URL","resolve","url","toString","$532fbdd1a5f05f92$var$linkAmazonImg","$8fb65fdefac32fe6$exports","$532fbdd1a5f05f92$var$linkAppleImg","$d6aa33d5df70cda4$exports","$532fbdd1a5f05f92$var$linkBookShopImg","$532fbdd1a5f05f92$var$createMarkupBooks","buy_links","description","$532fbdd1a5f05f92$var$modalWindow","socialLinks","socialThumb","createElement","append","array","linkArr","index","name","$532fbdd1a5f05f92$var$testFunc","event","li","closest","favoritBookId","fetchAPI","$cTOKP","fetchBooksForID","$532fbdd1a5f05f92$var$modalOpen","toggle","data","discriptionText","saveBookInStorageButton","$fUP9p","IS_USER_LOG","user","$dQL0x","User","getWishList","$kAe2l","auth","currentUser","email","includes","favoriteid","style","display","checkStorage","addToWishList","removeFromWishlist","openForm","error","Notify","failure","message","$22b277e67ad1df42$var$button","window","pageYOffset","scrollTo","top","behavior"],"version":3,"file":"index.8ca95da9.js.map"}